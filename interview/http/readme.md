# http 各个版本的特性

-  OSI 七层协议
- 基于TCP/IP 
- 三次握手/四次挥手 
- http/https
- 浏览器缓存 
- http 各版本的特性
- TCP 和 UDP 区别 
- GET POST 区别
    - 用途不一样 
        GET 用于获取资源
        POST 用于提交数据
        我在开发中，会结合RestFul 协议 标准开发
        PATH/PUT 修改  DELETE 删除
        OPTIONS 预检请求 HEAD 文件的信息 

    - 数据传输方式 
        GET url params 或 queryString 明文
        POST 请求体 相对安全

    - 安全性
        GET 不安全 缓存， 存于URL末尾
        POST 相对安全 存于请求体中 但是还是要启用https 加密传输
    - 数据长度限制
        GET 受到 URL 长度限制，2048个字节（2kb） 不适合传输大量数据
        POST 没有长度限制，适合大量数据传输，比如大文件上传 

    - 幂等性 
        GET 是 对此执行都一致 不会改变服务器状态
        POST 非 可能创建新资源或修改 

    - 缓存与书签
        GET 可以被浏览器缓存，可以收藏为书签
        POST 不被缓存，不能收藏为书签
    - 状态码
        GET 200
        POST 201




## 版本特性 
- 讲清楚有哪些版本
    HTTP 0.9 
    Hyper Text Transfer Protocol
    最早的版本，只支持GET请求，响应只有HTML文本，没有header。
    只能传输简单网页，连图片、css、JS 都不能传。
    因为不支持请求头，所以不能指定请求的资源类型，也不能指定响应的资源类型。
    不支持请求头 image/jpg  text/css text/js 

    HTTP 1.0
    引入了请求头和响应头概念 header ,能传输多种类型数据
    图片等 
    cookie 但是任然是无状态的
    默认使用短链接
    每次请求都要重新建立TCP链接
        开销浪费 同域名下的资源，一条路
        早期用户并不是那么多
        http 基于请求响应的简单协议 TCP链接，断开

    HTTP 1.1

    - 用户太多了， 一定要解决TCP链接每次都重新建立的问题 
    - 推出了长链接 
        Connection: keep-alive
        一个TCP 可以处理多个请求，浏览器通过一个TCP链接连续请求页面、图片、脚本等多个资源，服务器处理完不会立刻断开，而是保持链接，后续请求无需重新建立链接，节省时间和性能开销，提高加速速度
    - 管道化 pipelining
        多个请求可以同时发送，而不需要等待前一个请求的响应.但响应必须按顺序返回

        数据分块传输 chunk

        你用支持管道化的浏览器，依次发送 获取首页、图片1、图片2，无需等待前一个响应。但服务器必须按顺序返回，否则浏览器会阻塞后续请求。

        TCP 可靠的传输，一个通信的多个数据包，按顺序、全部到达浏览器。
        没有能真正的并发，TCP 安全 响应时还是顺序的传输
        缺点：队头阻塞 如果排在前面的资源传输慢，后面的资源就会阻塞

        怎么优化网页加载速度，在通信这一块？
        - 路由懒加载， 分包 
            路由切换的时候，动态加载 
            App.jsx 不同的文件
            Login.jsx 
        - http 优化 图片懒加载
            js/css/img 过多，合并文件
            同一个域名请求并发的上限是6
        - base64 图片 html/css 文件里，减少了请求 
        - 图标字体库 iconfont
        - 压缩传输
        - 使用多个域名  静态资源的CDN服务器  
            将资源分布在不同子域名下，Domain sharading 域名分片 更好的进行并发
        - 缓存优化
            浏览器缓存 强缓存和协商缓存 
            强缓存 浏览器直接从缓存中获取资源，不会向服务器发送请求，过期时间可以在响应头中设置。
            协商缓存 浏览器发送请求到服务器，服务器返回资源是否过期，过期了才会返回资源。
            协商缓存可以和强缓存结合使用，比如：图片资源可以使用强缓存，HTML文件可以使用协商缓存。
            缓存优化可以减少请求次数，提高页面加载速度。


    - HTTP 2.0

        - 并发 多路复用 
            一个TCP 链接上并发多个请求，不再队头阻塞。
            多路复用把数据拆成帧交错传输，请求和响应可以并行独立
        - 二进制数据帧
            所有请求和响应都拆成小数据帧，通过一个链接并发传输，每个帧带有编号，制定是哪个文件，客户端和服务器端可以根据编号重组。
            无需排队，谁先准备好谁就先发，解决了队头堵塞的问题。

            头部压缩 减少重复header传输

            服务器端推送 server push
                服务器可以主动推送资源给客户端，而不需要客户端请求。
                比如：首页请求了HTML文件，但是首页还依赖对应的css、js等，服务器可以主动推送CSS、JS、图片等资源，客户端无需再次请求，直接从缓存中获取。
                可以减少请求次数，提高页面加载速度。


    - HTTP 3.0
        基于QUIC 协议，改用UDP 代替TCP

页面快速显示
